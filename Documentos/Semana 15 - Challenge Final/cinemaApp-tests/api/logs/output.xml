<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 7.3.2 (Python 3.12.3 on linux)" generated="2025-10-01T16:43:55.639128" rpa="false" schemaversion="5">
<suite id="s1" name="Movies Tests" source="/home/rafael/Documentos/Compass/AtualizadoPC/PB-Quality-Engineering/Documentos/Semana 15 - Challenge Final/cinemaApp-tests/api/tests/movies_tests.robot">
<test id="s1-t1" name="CT004.001 - Cadastrar um Filme" line="11">
<kw name="Create List" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.827454" level="INFO">${genres} = ['Drama']</msg>
<var>${genres}</var>
<arg>Drama</arg>
<doc>Returns a list containing given items.</doc>
<status status="PASS" start="2025-10-01T16:43:55.827157" elapsed="0.000351"/>
</kw>
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.829875" level="INFO">${movie} = {'title': 'Manchester à Beira-Mar', 'synopsis': 'Em Manchester à Beira-Mar, Lee Chandler é forçado a retornar para sua cidade natal com o objetivo de tomar conta de seu sobrinho adolescente, após o se...</msg>
<var>${movie}</var>
<arg>title=Manchester à Beira-Mar</arg>
<arg>synopsis=Em Manchester à Beira-Mar, Lee Chandler é forçado a retornar para sua cidade natal com o objetivo de tomar conta de seu sobrinho adolescente, após o seu irmão Kyle Chandler falecer precocemente. Este retorno ficará ainda mais complicado quando Lee precisar enfrentar as razões que o fizeram deixar sua família e ir embora, anos antes.</arg>
<arg>director=Kenneth Lonergan</arg>
<arg>genres=${genres}</arg>
<arg>duration=137</arg>
<arg>classification=+14</arg>
<arg>poster=manchester_poster.jpg</arg>
<arg>releaseDate=2016-11-18</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-01T16:43:55.827770" elapsed="0.002165"/>
</kw>
<kw name="Clean Movie from Database" owner="database">
<msg time="2025-10-01T16:43:55.847087" level="INFO">Searching for movie with title: Manchester à Beira-Mar
Movie found: {'_id': ObjectId('68dd815221ab0711adb80282'), 'title': 'Manchester à Beira-Mar', 'synopsis': 'Em Manchester à Beira-Mar, Lee Chandler é forçado a retornar para sua cidade natal com o objetivo de tomar conta de seu sobrinho adolescente, após o seu irmão Kyle Chandler falecer precocemente. Este retorno ficará ainda mais complicado quando Lee precisar enfrentar as razões que o fizeram deixar sua família e ir embora, anos antes.', 'director': 'Kenneth Lonergan', 'genres': ['Drama'], 'duration': 137, 'classification': '+14', 'poster': 'manchester_poster.jpg', 'releaseDate': datetime.datetime(2016, 11, 18, 0, 0), 'createdAt': datetime.datetime(2025, 10, 1, 19, 30, 26, 733000), 'updatedAt': datetime.datetime(2025, 10, 1, 19, 30, 26, 733000), '__v': 0}
Movies with title 'Manchester à Beira-Mar' deleted. Count: 8</msg>
<arg>${movie}[title]</arg>
<status status="PASS" start="2025-10-01T16:43:55.830225" elapsed="0.017169"/>
</kw>
<kw name="Criar Sessao" owner="base">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-01T16:43:55.849587" level="INFO">Creating Session using : alias=CinemaApp, url=http://localhost:3000/api/v1, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>CinemaApp</arg>
<arg>url=${BASE_URL}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-01T16:43:55.849218" elapsed="0.000781"/>
</kw>
<status status="PASS" start="2025-10-01T16:43:55.848354" elapsed="0.001802"/>
</kw>
<kw name="Criar filme" owner="createMovieKeywords">
<kw name="Utilizar Token de Administrador" owner="common">
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.852110" level="INFO">${admin_user} = {'email': 'lex.luthor@lexcorp.com', 'password': 'pwd12345'}</msg>
<var>${admin_user}</var>
<arg>email=lex.luthor@lexcorp.com</arg>
<arg>password=pwd12345</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-01T16:43:55.851686" elapsed="0.000484"/>
</kw>
<kw name="Criar Sessao" owner="base">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-01T16:43:55.853441" level="INFO">Creating Session using : alias=CinemaApp, url=http://localhost:3000/api/v1, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>CinemaApp</arg>
<arg>url=${BASE_URL}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-01T16:43:55.853075" elapsed="0.000731"/>
</kw>
<status status="PASS" start="2025-10-01T16:43:55.852470" elapsed="0.001483"/>
</kw>
<kw name="Fazer Login" owner="fazerLoginKeywords">
<kw name="POST Endpoint /auth/login" owner="fazerLoginKeywords">
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.855950" level="INFO">${payload} = {'email': 'lex.luthor@lexcorp.com', 'password': 'pwd12345'}</msg>
<var>${payload}</var>
<arg>email=${email}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-01T16:43:55.855422" elapsed="0.000574"/>
</kw>
<kw name="POST On Session" owner="RequestsLibrary">
<msg time="2025-10-01T16:43:55.974196" level="INFO">POST Request : url=http://localhost:3000/api/v1/auth/login 
 path_url=/api/v1/auth/login 
 headers={'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '59', 'Content-Type': 'application/json'} 
 body=b'{"email": "lex.luthor@lexcorp.com", "password": "pwd12345"}' 
 </msg>
<msg time="2025-10-01T16:43:55.974352" level="INFO">POST Response : url=http://localhost:3000/api/v1/auth/login 
 status=200, reason=OK 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '308', 'ETag': 'W/"134-b8ud/f9JhM5ebWDQMM9V53bEg+w"', 'Date': 'Wed, 01 Oct 2025 19:43:55 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"data":{"_id":"68dd5eeb21ab0711adb801cc","name":"Lex Luthor","email":"lex.luthor@lexcorp.com","role":"admin","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTM0NzgzNSwiZXhwIjoxNzU5NDM0MjM1fQ.jmYNiwVVvcAevdJbuuVrE16NieX0aKKuY0vcuGFoLx0"}} 
 </msg>
<msg time="2025-10-01T16:43:55.974518" level="INFO">${response} = &lt;Response [200]&gt;</msg>
<var>${response}</var>
<arg>alias=CinemaApp</arg>
<arg>url=/auth/login</arg>
<arg>json=${payload}</arg>
<arg>expected_status=any</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-01T16:43:55.856205" elapsed="0.118352"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.975118" level="INFO">${response} = &lt;Response [200]&gt;</msg>
<arg>${response}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-01T16:43:55.974770" elapsed="0.000404"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Extract JWT" owner="fazerLoginKeywords">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.976918" level="INFO">${token} = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTM0NzgzNSwiZXhwIjoxNzU5NDM0MjM1fQ.jmYNiwVVvcAevdJbuuVrE16NieX0aKKuY0vcuGFoLx0</msg>
<var>${token}</var>
<arg>${response.json()['data']['token']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-01T16:43:55.976397" elapsed="0.000555"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.977268" level="INFO">Token obtido: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTM0NzgzNSwiZXhwIjoxNzU5NDM0MjM1fQ.jmYNiwVVvcAevdJbuuVrE16NieX0aKKuY0vcuGFoLx0</msg>
<arg>Token obtido: ${token}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-01T16:43:55.977092" elapsed="0.000243"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.977979" level="INFO">${token} = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTM0NzgzNSwiZXhwIjoxNzU5NDM0MjM1fQ.jmYNiwVVvcAevdJbuuVrE16NieX0aKKuY0vcuGFoLx0</msg>
<arg>${token}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-01T16:43:55.977648" elapsed="0.000385"/>
</kw>
<status status="PASS" start="2025-10-01T16:43:55.976094" elapsed="0.002009"/>
</kw>
<arg>${response.status_code} == 200</arg>
<arg>Extract JWT</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2025-10-01T16:43:55.975343" elapsed="0.002811"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.978733" level="INFO">{"success":true,"data":{"_id":"68dd5eeb21ab0711adb801cc","name":"Lex Luthor","email":"lex.luthor@lexcorp.com","role":"admin","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTM0NzgzNSwiZXhwIjoxNzU5NDM0MjM1fQ.jmYNiwVVvcAevdJbuuVrE16NieX0aKKuY0vcuGFoLx0"}}</msg>
<arg>${response.content}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-01T16:43:55.978285" elapsed="0.000511"/>
</kw>
<arg>${user}[email]</arg>
<arg>${user}[password]</arg>
<status status="PASS" start="2025-10-01T16:43:55.854820" elapsed="0.124044"/>
</kw>
<arg>${admin_user}</arg>
<status status="PASS" start="2025-10-01T16:43:55.854206" elapsed="0.124721"/>
</kw>
<status status="PASS" start="2025-10-01T16:43:55.851235" elapsed="0.127750"/>
</kw>
<kw name="POST Endpoint /movies" owner="createMovieKeywords">
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.980203" level="INFO">&amp;{header} = { Content-Type=application/json | Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTM0NzgzNSwiZXhwIjoxNzU5NDM0MjM1fQ.jmYNiwVVvcAevdJbu...</msg>
<var>&amp;{header}</var>
<arg>Content-Type=application/json</arg>
<arg>Authorization=Bearer ${token}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-01T16:43:55.979854" elapsed="0.000400"/>
</kw>
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.981254" level="INFO">${payload} = {'title': 'Manchester à Beira-Mar', 'synopsis': 'Em Manchester à Beira-Mar, Lee Chandler é forçado a retornar para sua cidade natal com o objetivo de tomar conta de seu sobrinho adolescente, após o se...</msg>
<var>${payload}</var>
<arg>title=${title}</arg>
<arg>synopsis=${synopsis}</arg>
<arg>director=${director}</arg>
<arg>genres=${genres}</arg>
<arg>duration=${duration}</arg>
<arg>classification=${classification}</arg>
<arg>poster=${poster}</arg>
<arg>releaseDate=${releaseDate}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-01T16:43:55.980482" elapsed="0.000834"/>
</kw>
<kw name="POST On Session" owner="RequestsLibrary">
<msg time="2025-10-01T16:43:55.991370" level="INFO">POST Request : url=http://localhost:3000/api/v1/movies 
 path_url=/api/v1/movies 
 headers={'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTM0NzgzNSwiZXhwIjoxNzU5NDM0MjM1fQ.jmYNiwVVvcAevdJbuuVrE16NieX0aKKuY0vcuGFoLx0', 'Content-Length': '591'} 
 body=b'{"title": "Manchester \\u00e0 Beira-Mar", "synopsis": "Em Manchester \\u00e0 Beira-Mar, Lee Chandler \\u00e9 for\\u00e7ado a retornar para sua cidade natal com o objetivo de tomar conta de seu sobrinho adolescente, ap\\u00f3s o seu irm\\u00e3o Kyle Chandler falecer precocemente. Este retorno ficar\\u00e1 ainda mais complicado quando Lee precisar enfrentar as raz\\u00f5es que o fizeram deixar sua fam\\u00edlia e ir embora, anos antes.", "director": "Kenneth Lonergan", "genres": ["Drama"], "duration": "137", "classification": "+14", "poster": "manchester_poster.jpg", "releaseDate": "2016-11-18"}' 
 </msg>
<msg time="2025-10-01T16:43:55.991485" level="INFO">POST Response : url=http://localhost:3000/api/v1/movies 
 status=201, reason=Created 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '727', 'ETag': 'W/"2d7-WYs5THzpCLb5lU2vx5nIaT4M+fA"', 'Date': 'Wed, 01 Oct 2025 19:43:55 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"data":{"title":"Manchester à Beira-Mar","synopsis":"Em Manchester à Beira-Mar, Lee Chandler é forçado a retornar para sua cidade natal com o objetivo de tomar conta de seu sobrinho adolescente, após o seu irmão Kyle Chandler falecer precocemente. Este retorno ficará ainda mais complicado quando Lee precisar enfrentar as razões que o fizeram deixar sua família e ir embora, anos antes.","director":"Kenneth Lonergan","genres":["Drama"],"duration":137,"classification":"+14","poster":"manchester_poster.jpg","releaseDate":"2016-11-18T00:00:00.000Z","_id":"68dd847b21ab0711adb802b6","createdAt":"2025-10-01T19:43:55.988Z","updatedAt":"2025-10-01T19:43:55.988Z","__v":0,"id":"68dd847b21ab0711adb802b6"}} 
 </msg>
<msg time="2025-10-01T16:43:55.991651" level="INFO">${response} = &lt;Response [201]&gt;</msg>
<var>${response}</var>
<arg>alias=CinemaApp</arg>
<arg>url=/movies</arg>
<arg>json=${payload}</arg>
<arg>headers=${header}</arg>
<arg>expected_status=any</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-01T16:43:55.981578" elapsed="0.010114"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.992234" level="INFO">${response} = &lt;Response [201]&gt;</msg>
<arg>${response}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-01T16:43:55.991944" elapsed="0.000345"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-01T16:43:55.993066" level="INFO">{"success":true,"data":{"title":"Manchester Ã  Beira-Mar","synopsis":"Em Manchester Ã  Beira-Mar, Lee Chandler Ã© forÃ§ado a retornar para sua cidade natal com o objetivo de tomar conta de seu sobrinho adolescente, apÃ³s o seu irmÃ£o Kyle Chandler falecer precocemente. Este retorno ficarÃ¡ ainda mais complicado quando Lee precisar enfrentar as razÃµes que o fizeram deixar sua famÃ­lia e ir embora, anos antes.","director":"Kenneth Lonergan","genres":["Drama"],"duration":137,"classification":"+14","poster":"manchester_poster.jpg","releaseDate":"2016-11-18T00:00:00.000Z","_id":"68dd847b21ab0711adb802b6","createdAt":"2025-10-01T19:43:55.988Z","updatedAt":"2025-10-01T19:43:55.988Z","__v":0,"id":"68dd847b21ab0711adb802b6"}}</msg>
<arg>${response.content}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-01T16:43:55.992451" elapsed="0.000681"/>
</kw>
<arg>${movie}[title]</arg>
<arg>${movie}[synopsis]</arg>
<arg>${movie}[director]</arg>
<arg>${movie}[genres]</arg>
<arg>${movie}[duration]</arg>
<arg>${movie}[classification]</arg>
<arg>${movie}[poster]</arg>
<arg>${movie}[releaseDate]</arg>
<status status="PASS" start="2025-10-01T16:43:55.979164" elapsed="0.014048"/>
</kw>
<arg>${movie}</arg>
<status status="PASS" start="2025-10-01T16:43:55.850548" elapsed="0.142754"/>
</kw>
<tag>CT001</tag>
<status status="PASS" start="2025-10-01T16:43:55.825821" elapsed="0.167691"/>
</test>
<doc>Testes para o endpoint /auth</doc>
<status status="PASS" start="2025-10-01T16:43:55.640502" elapsed="0.353833"/>
</suite>
<statistics>
<total>
<stat pass="1" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="1" fail="0" skip="0">CT001</stat>
</tag>
<suite>
<stat name="Movies Tests" id="s1" pass="1" fail="0" skip="0">Movies Tests</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
