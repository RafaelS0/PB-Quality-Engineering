<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 7.3.2 (Python 3.12.3 on linux)" generated="2025-10-02T13:50:34.843931" rpa="false" schemaversion="5">
<suite id="s1" name="Movies Tests" source="/home/rafael/Documentos/Compass/AtualizadoPC/PB-Quality-Engineering/Documentos/Semana 15 - Challenge Final/cinemaApp-tests/api/tests/movies_tests.robot">
<test id="s1-t1" name="CT004.0012 - Deletar um Filme Cadastrado" line="29">
<kw name="Create List" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.107421" level="INFO">${genres} = ['Slasher', 'Terror']</msg>
<var>${genres}</var>
<arg>Slasher</arg>
<arg>Terror</arg>
<doc>Returns a list containing given items.</doc>
<status status="PASS" start="2025-10-02T13:50:35.106872" elapsed="0.002324"/>
</kw>
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.112171" level="INFO">${movie} = {'title': ' Scream', 'synopsis': 'Na pequena cidade de Woodsboro, um grupo de jovens do ensino médio enfrenta um assassino mascarado que testa seus conhecimentos sobre filmes de terror. Sidney Prescot...</msg>
<var>${movie}</var>
<arg>title= Scream</arg>
<arg>synopsis=Na pequena cidade de Woodsboro, um grupo de jovens do ensino médio enfrenta um assassino mascarado que testa seus conhecimentos sobre filmes de terror. Sidney Prescott, traumatizada após o brutal assassinato de sua mãe, é o alvo preferido do misterioso homicida que aterroriza a outrora pacata comunidade.</arg>
<arg>director=Wes Craven</arg>
<arg>genres=${genres}</arg>
<arg>duration=111</arg>
<arg>classification=+16</arg>
<arg>poster=scream.jpg</arg>
<arg>releaseDate=1997-01-31</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-02T13:50:35.110726" elapsed="0.001816"/>
</kw>
<kw name="Clean Movie from Database" owner="database">
<msg time="2025-10-02T13:50:35.123749" level="INFO">Searching for movie with title:  Scream
Movie found: {'_id': ObjectId('68deacc8106aa13b7285ef18'), 'title': ' Scream', 'synopsis': 'Na pequena cidade de Woodsboro, um grupo de jovens do ensino médio enfrenta um assassino mascarado que testa seus conhecimentos sobre filmes de terror. Sidney Prescott, traumatizada após o brutal assassinato de sua mãe, é o alvo preferido do misterioso homicida que aterroriza a outrora pacata comunidade.', 'director': 'Wes Craven', 'genres': ['Slasher', 'Terror'], 'duration': '111', 'classification': '+16', 'poster': 'scream.jpg', 'releaseDate': '1997-01-31'}
Movies with title ' Scream' deleted. Count: 1</msg>
<arg>${movie}[title]</arg>
<status status="PASS" start="2025-10-02T13:50:35.113490" elapsed="0.010749"/>
</kw>
<kw name="Insert movie into database" owner="database">
<arg>${movie}</arg>
<status status="PASS" start="2025-10-02T13:50:35.124789" elapsed="0.002645"/>
</kw>
<kw name="Criar Sessao" owner="base">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-02T13:50:35.129736" level="INFO">Creating Session using : alias=CinemaApp, url=http://localhost:3000/api/v1, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>CinemaApp</arg>
<arg>url=${BASE_URL}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-02T13:50:35.129190" elapsed="0.001339"/>
</kw>
<status status="PASS" start="2025-10-02T13:50:35.128284" elapsed="0.002513"/>
</kw>
<kw name="Deletar um filme" owner="deleteMovieKeywords">
<kw name="Pegar ID de um filme" owner="common">
<kw name="Get movie by title" owner="database">
<msg time="2025-10-02T13:50:35.135541" level="INFO">${movie_data} = {'_id': ObjectId('68dead5ba0c931300467eaaf'), 'title': ' Scream', 'synopsis': 'Na pequena cidade de Woodsboro, um grupo de jovens do ensino médio enfrenta um assassino mascarado que testa seus conheci...</msg>
<var>${movie_data}</var>
<arg>${movie}[title]</arg>
<status status="PASS" start="2025-10-02T13:50:35.133019" elapsed="0.003105"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.137218" level="INFO">${movie_id} = 68dead5ba0c931300467eaaf</msg>
<var>${movie_id}</var>
<arg>${movie_data}[_id]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-02T13:50:35.136560" elapsed="0.000886"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.138423" level="INFO">${movie_id} = 68dead5ba0c931300467eaaf</msg>
<arg>${movie_id}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-02T13:50:35.137820" elapsed="0.000858"/>
</kw>
<arg>${movie}</arg>
<status status="PASS" start="2025-10-02T13:50:35.132320" elapsed="0.006591"/>
</kw>
<kw name="Utilizar Token de Administrador" owner="common">
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.140666" level="INFO">${admin_user} = {'email': 'lex.luthor@lexcorp.com', 'password': 'pwd12345'}</msg>
<var>${admin_user}</var>
<arg>email=lex.luthor@lexcorp.com</arg>
<arg>password=pwd12345</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-02T13:50:35.139903" elapsed="0.001016"/>
</kw>
<kw name="Criar Sessao" owner="base">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-02T13:50:35.143378" level="INFO">Creating Session using : alias=CinemaApp, url=http://localhost:3000/api/v1, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>CinemaApp</arg>
<arg>url=${BASE_URL}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-02T13:50:35.142835" elapsed="0.001638"/>
</kw>
<status status="PASS" start="2025-10-02T13:50:35.141364" elapsed="0.003412"/>
</kw>
<kw name="Fazer Login" owner="fazerLoginKeywords">
<kw name="POST Endpoint /auth/login" owner="fazerLoginKeywords">
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.147578" level="INFO">${payload} = {'email': 'lex.luthor@lexcorp.com', 'password': 'pwd12345'}</msg>
<var>${payload}</var>
<arg>email=${email}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-02T13:50:35.146861" elapsed="0.001182"/>
</kw>
<kw name="POST On Session" owner="RequestsLibrary">
<msg time="2025-10-02T13:50:35.334627" level="INFO">POST Request : url=http://localhost:3000/api/v1/auth/login 
 path_url=/api/v1/auth/login 
 headers={'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '59', 'Content-Type': 'application/json'} 
 body=b'{"email": "lex.luthor@lexcorp.com", "password": "pwd12345"}' 
 </msg>
<msg time="2025-10-02T13:50:35.335303" level="INFO">POST Response : url=http://localhost:3000/api/v1/auth/login 
 status=200, reason=OK 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '308', 'ETag': 'W/"134-KDC8Mclx+QXmW4DGzklajD7NPTo"', 'Date': 'Thu, 02 Oct 2025 16:50:35 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"data":{"_id":"68dd5eeb21ab0711adb801cc","name":"Lex Luthor","email":"lex.luthor@lexcorp.com","role":"admin","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTQyMzgzNSwiZXhwIjoxNzU5NTEwMjM1fQ.7A-cJEzzx99Cq7lz4sPTtm59f7bsRSxj20YxHBkm8go"}} 
 </msg>
<msg time="2025-10-02T13:50:35.335895" level="INFO">${response} = &lt;Response [200]&gt;</msg>
<var>${response}</var>
<arg>alias=CinemaApp</arg>
<arg>url=/auth/login</arg>
<arg>json=${payload}</arg>
<arg>expected_status=any</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-02T13:50:35.148442" elapsed="0.187793"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.337195" level="INFO">${response} = &lt;Response [200]&gt;</msg>
<arg>${response}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-02T13:50:35.336659" elapsed="0.000735"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Extract JWT" owner="fazerLoginKeywords">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.343643" level="INFO">${token} = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTQyMzgzNSwiZXhwIjoxNzU5NTEwMjM1fQ.7A-cJEzzx99Cq7lz4sPTtm59f7bsRSxj20YxHBkm8go</msg>
<var>${token}</var>
<arg>${response.json()['data']['token']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-02T13:50:35.341744" elapsed="0.002237"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.346270" level="INFO">Token obtido: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTQyMzgzNSwiZXhwIjoxNzU5NTEwMjM1fQ.7A-cJEzzx99Cq7lz4sPTtm59f7bsRSxj20YxHBkm8go</msg>
<arg>Token obtido: ${token}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-02T13:50:35.345637" elapsed="0.000974"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.347733" level="INFO">${token} = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTQyMzgzNSwiZXhwIjoxNzU5NTEwMjM1fQ.7A-cJEzzx99Cq7lz4sPTtm59f7bsRSxj20YxHBkm8go</msg>
<arg>${token}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-02T13:50:35.347017" elapsed="0.001001"/>
</kw>
<status status="PASS" start="2025-10-02T13:50:35.340954" elapsed="0.007484"/>
</kw>
<arg>${response.status_code} == 200</arg>
<arg>Extract JWT</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2025-10-02T13:50:35.338969" elapsed="0.009708"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.350147" level="INFO">{"success":true,"data":{"_id":"68dd5eeb21ab0711adb801cc","name":"Lex Luthor","email":"lex.luthor@lexcorp.com","role":"admin","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTQyMzgzNSwiZXhwIjoxNzU5NTEwMjM1fQ.7A-cJEzzx99Cq7lz4sPTtm59f7bsRSxj20YxHBkm8go"}}</msg>
<arg>${response.content}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-02T13:50:35.349068" elapsed="0.001396"/>
</kw>
<arg>${user}[email]</arg>
<arg>${user}[password]</arg>
<status status="PASS" start="2025-10-02T13:50:35.146054" elapsed="0.204684"/>
</kw>
<arg>${admin_user}</arg>
<status status="PASS" start="2025-10-02T13:50:35.145235" elapsed="0.205760"/>
</kw>
<status status="PASS" start="2025-10-02T13:50:35.139318" elapsed="0.211941"/>
</kw>
<kw name="DELETE Endpoint /movies/_id" owner="deleteMovieKeywords">
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.353235" level="INFO">&amp;{header} = { Content-Type=application/json | Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTQyMzgzNSwiZXhwIjoxNzU5NTEwMjM1fQ.7A-cJEzzx99Cq7lz4...</msg>
<var>&amp;{header}</var>
<arg>Content-Type=application/json</arg>
<arg>Authorization=Bearer ${token}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-02T13:50:35.352589" elapsed="0.001218"/>
</kw>
<kw name="DELETE On Session" owner="RequestsLibrary">
<msg time="2025-10-02T13:50:35.385340" level="INFO">DELETE Request : url=http://localhost:3000/api/v1/movies/68dead5ba0c931300467eaaf 
 path_url=/api/v1/movies/68dead5ba0c931300467eaaf 
 headers={'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZGQ1ZWViMjFhYjA3MTFhZGI4MDFjYyIsImlhdCI6MTc1OTQyMzgzNSwiZXhwIjoxNzU5NTEwMjM1fQ.7A-cJEzzx99Cq7lz4sPTtm59f7bsRSxj20YxHBkm8go', 'Content-Length': '0'} 
 body=None 
 </msg>
<msg time="2025-10-02T13:50:35.385794" level="INFO">DELETE Response : url=http://localhost:3000/api/v1/movies/68dead5ba0c931300467eaaf 
 status=200, reason=OK 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '42', 'ETag': 'W/"2a-hADHoyMaFDqXJclxgYdNbQRmW6U"', 'Date': 'Thu, 02 Oct 2025 16:50:35 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"message":"Movie removed"} 
 </msg>
<msg time="2025-10-02T13:50:35.386334" level="INFO">${response} = &lt;Response [200]&gt;</msg>
<var>${response}</var>
<arg>alias=CinemaApp</arg>
<arg>url=/movies/${id}</arg>
<arg>headers=${header}</arg>
<arg>expected_status=any</arg>
<doc>Sends a DELETE request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-02T13:50:35.354232" elapsed="0.032363"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-02T13:50:35.388246" level="INFO">{"success":true,"message":"Movie removed"}</msg>
<arg>${response.content}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-02T13:50:35.387100" elapsed="0.001458"/>
</kw>
<arg>${movie_id}</arg>
<status status="PASS" start="2025-10-02T13:50:35.351728" elapsed="0.037111"/>
</kw>
<arg>${movie}</arg>
<status status="PASS" start="2025-10-02T13:50:35.131334" elapsed="0.257781"/>
</kw>
<tag>CT001</tag>
<status status="PASS" start="2025-10-02T13:50:35.105079" elapsed="0.284519"/>
</test>
<doc>Testes para o endpoint /auth</doc>
<status status="PASS" start="2025-10-02T13:50:34.850193" elapsed="0.544780"/>
</suite>
<statistics>
<total>
<stat pass="1" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="1" fail="0" skip="0">CT001</stat>
</tag>
<suite>
<stat name="Movies Tests" id="s1" pass="1" fail="0" skip="0">Movies Tests</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
